!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=L.Control.Layers.extend({_addItem:function(a){var b,c,d,e,f;return d=document.createDocumentFragment(),f=document.createElement("label"),b=this._map.hasLayer(a.layer),a.overlay?(e=document.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=b):e=this._createRadioElement("leaflet-base-layers",b),e.layerId=L.stamp(a.layer),e.id="leaflet-layer-control-selector-"+e.layerId,L.DomEvent.on(e,"click",this._onInputClick,this),f.innerHTML=a.name,f.setAttribute("for",e.id),d.appendChild(e),d.appendChild(f),c=a.overlay?this._overlaysList:this._baseLayersList,c.appendChild(d),d}});L.Control.HazDevLayers=d,L.control.hazDevLayers=function(a,b,c){return new d(a,b,c)},b.exports=L.control.hazDevLayers},{}],2:[function(a,b,c){"use strict";var d,e,f,g,h=a("leaflet/layer/TileProvider"),i=a("util/Util");e="esri",f="natgeo",g={},d={provider:e},g[e]={url:"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",options:{subdomains:["server","services"],attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},g[f]={url:"//{s}.arcgisonline.com/arcgis/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",options:{subdomains:["server","services"],attribution:"Content may not reflect National Geographic's current map policy. Sources: National Geographic, Esri, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}};var j=function(a){try{return h.create(g,i.extend({},d,a))}catch(b){return h.create(g,d)}};j.ESRI=e,j.NATGEO=f,b.exports=j},{"leaflet/layer/TileProvider":3,"util/Util":4}],3:[function(a,b,c){"use strict";var d=a("util/Util"),e={create:function(a,b){var c,e,f;return f=a[b.provider],e=f.url,c=d.extend({},f.options,b),c.hasOwnProperty("provider")&&delete c.provider,L.tileLayer(e,c)}};b.exports=e},{"util/Util":4}],4:[function(a,b,c){"use strict";var d=!1,e=!1,f=function(){};f.isMobile=function(){return d},f.supportsDateInput=function(){return e},f.extend=function(a){var b,c,d,e;for(b=1,c=arguments.length;b<c;b++)if(d=arguments[b])for(e in d)a[e]=d[e];return a},f.equals=function(a,b){var c,d;if(a===b)return!0;if(null===a||null===b)return!1;if("object"==typeof a&&"object"==typeof b){for(c in a)if(a.hasOwnProperty(c)&&!b.hasOwnProperty(c))return!1;for(d in b)if(b.hasOwnProperty(d)){if(!a.hasOwnProperty(d))return!1;if(!f.equals(a[d],b[d]))return!1}return!0}return a===b},f.getEvent=function(a){var b;return a||(a=window.event),a.target?b=a.target:a.srcElement&&(b=a.srcElement),3===b.nodeType&&(b=b.parentNode),{target:b,originalEvent:a}},f.getParentNode=function(a,b,c){for(var d=a;d&&d!==c&&d.nodeName.toUpperCase()!==b.toUpperCase();)d=d.parentNode;return d&&"nodeName"in d&&d.nodeName.toUpperCase()===b.toUpperCase()?d:null},f.empty=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},f.detach=function(a){a.parentNode&&a.parentNode.removeChild(a)},f.getWindowSize=function(){var a={width:null,height:null};if("innerWidth"in window&&"innerHeight"in window)a={width:window.innerWidth,height:window.innerHeight};else{var b="documentElement"in document?document.documentElement:document.body;a={width:b.offsetWidth,height:b.offsetHeight}}return a},f.compose=function(){var a=arguments;return function(b){var c,d,e;for(c=0,e=a.length;c<e;c++)(d=a[c])&&d.call&&(b=d.call(this,b));return b}},f.contains=function(a,b){var c,d;for(c=0,d=a.length;c<d;c++)if(b===a[c])return!0;return!1},f.isArray=function(a){return"function"==typeof Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)},f.loadScript=function(a,b){var c,d,e,g,h;b=f.extend({},{success:null,error:null,done:null},b),c=function(){h.removeEventListener("load",g),h.removeEventListener("error",e),h.parentNode.removeChild(h),c=null,g=null,e=null,h=null},d=function(){null!==b.done&&b.done(),b=null},e=function(){c(),null!==b.error&&b.error.apply(null,arguments),d()},g=function(){c(),null!==b.success&&b.success.apply(null,arguments),d()},h=document.createElement("script"),h.addEventListener("load",g),h.addEventListener("error",e),h.src=a,h.async=!0,document.querySelector("script").parentNode.appendChild(h)},function(){var a=(document.createElement("div"),document.createElement("input")),b=navigator.userAgent||navigator.vendor||window.opera;d=b.match(/(Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone)/i),a.setAttribute("type","date"),e="text"!==a.type}(),b.exports=f},{}],5:[function(a,b,c){"use strict";var d,e,f,g,h,i=a("./Util"),j=0,k={url:null,success:null,error:null,done:null,data:null,callbackName:null,callbackParameter:"callback"},l={url:null,success:null,error:null,done:null,method:"GET",headers:null,data:null,rawdata:null};d=function(a){var b,c,d,e,f;if(a=i.extend({},l,a),e=a.url,a.restrictOrigin&&(e=g(e)),c=a.rawdata,null!==a.data&&(d=h(a.data),"GET"===a.method?e=e+"?"+d:(c=d,null===a.headers&&(a.headers={}),a.headers["Content-Type"]="application/x-www-form-urlencoded")),f=new XMLHttpRequest,f.onreadystatechange=function(){var b,c;if(4===f.readyState){if(200===f.status){if(null!==a.success)try{b=f.response,c=f.getResponseHeader("Content-Type"),c&&-1!==c.indexOf("json")&&(b=JSON.parse(b)),a.success(b,f)}catch(d){null!==a.error&&a.error(d,f)}}else a.error&&a.error(f.status,f);null!==a.done&&a.done(f)}},f.open(a.method,e,!0),null!==a.headers)for(b in a.headers)f.setRequestHeader(b,a.headers[b]);return f.send(c),f},e=function(){return"_xhr_callback_"+(new Date).getTime()+"_"+ ++j},f=function(a){var b,c,d;a=i.extend({},k,a),d=a.url,b=i.extend({},a.data),c=a.callbackName||e(),b[a.callbackParameter]=c,d+=(-1===d.indexOf("?")?"?":"&")+h(b),window[c]=function(){a.success.apply(null,arguments)},i.loadScript(d,{error:a.error,done:function(){window[c]=null,delete window[c],null!==a.done&&a.done()}})},g=function(a){var b,c;return b=document.createElement("a"),b.setAttribute("href",a),c=b.pathname,0!==a.indexOf("http")&&0!==a.indexOf("/")||0===c.indexOf("/")||(c="/"+c),c},h=function(a){var b,c,d,e,f,g;b=[];for(c in a)if(d=encodeURIComponent(c),(e=a[c])instanceof Array)for(f=0,g=e.length;f<g;f++)b.push(d+"="+encodeURIComponent(e[f]));else b.push(d+"="+encodeURIComponent(e));return b.join("&")},b.exports={ajax:d,getCallbackName:e,jsonp:f,restrictOrigin:g,urlEncode:h}},{"./Util":4}],6:[function(a,b,c){"use strict";var d,e=a("detail/DetailView"),f=a("util/Xhr");d="https://earthquake.usgs.gov/arcgis/rest/services/ls/pwfdf_locations/MapServer/0/query?f=json&outfields=*&returnGeometry=false&objectIds=",f.ajax({url:d+Objectid,success:function(a){var b,c;b=JSON.parse(a),c=e({el:document.querySelector("#application"),data:b.features[0]||{}}),c.render()},error:function(a){document.querySelector("#application").innerHTML='<p class="alert error">Failed to download post-wildfire debris flow data.</p>',console.log(a),console.log(a.stack)}})},{"detail/DetailView":9,"util/Xhr":5}],7:[function(a,b,c){"use strict";var d=a("leaflet/control/HazDevLayers"),e=a("util/Util"),f={},g=function(a){var b,c;return a=e.extend({},f,a),b={},c=function(a){b.data=a.data||{},b.layers=d(),b.legendEl=a.legendEl||document.createElement("img"),b.url=a.url,b.map=null},b.addOverlays=function(){var a,c,d,e,f,g;d=L.tileLayer.wms(b.url,{layers:"2,7,8",format:"image/png",transparent:!0,opacity:.65,attribution:"USGS"}),e=L.tileLayer.wms(b.url,{layers:"5,7,6,8,9",format:"image/png",transparent:!0,opacity:.65,attribution:"USGS"}),f=L.tileLayer.wms(b.url,{layers:"1,7,8",format:"image/png",transparent:!0,opacity:.65,attribution:"USGS"}),g=L.tileLayer.wms(b.url,{layers:"4,7,6,8,9",format:"image/png",transparent:!0,opacity:.65,attribution:"USGS"}),a=L.tileLayer.wms(b.url,{layers:"0,7,8",format:"image/png",transparent:!0,opacity:.65,attribution:"USGS"}),c=L.tileLayer.wms(b.url,{layers:"3,7,6,8,9",format:"image/png",transparent:!0,opacity:.65,attribution:"USGS"}),d.legendUrl="images/Probability_Legend_Basins2016.png",e.legendUrl="images/Probability_Legend_Segments2016.png",f.legendUrl="images/Volume_Legend_Basins2016.png",g.legendUrl="images/Volume_Legend_Segments2016.png",a.legendUrl="images/Combined_Legend_Basins2016.png",c.legendUrl="images/Combined_Legend_Segments2016.png",b.layers.addBaseLayer(d,"Basin Probability"),b.layers.addBaseLayer(e,"Segment Probability"),b.layers.addBaseLayer(f,"Basin Volume"),b.layers.addBaseLayer(g,"Segment Volume"),b.layers.addBaseLayer(a,"Basin Hazard"),b.layers.addBaseLayer(c,"Segment Hazard"),d.addTo(b.map),b.legendEl.src=d.legendUrl,b.layers.addTo(b.map),b.map.on("baselayerchange",function(a){b.legendEl.src=a.layer.legendUrl})},b.destroy=function(){null!==b&&(c=null,b=null)},b.onAdd=function(a){b.map=a,b.addOverlays()},b.onRemove=function(){b.map=null},c(a),a=null,b};b.exports=g},{"leaflet/control/HazDevLayers":1,"util/Util":4}],8:[function(a,b,c){"use strict";var d,e=a("detail/DetailFireLayer"),f=a("leaflet/layer/Terrain"),g=a("util/Util");d={};var h=function(a){var b,c;return a=g.extend({},d,a),b={},c=function(a){var c,d,h;c=41.5,d=-112,h=5,b.el=a.el||document.createElement("div"),b.mapEl=b.el.querySelector(".detail-map")||document.createElement("div"),b.legendEl=b.el.querySelector(".legend")||document.createElement("div"),b.data=a.data||{},b.url=a.url||"",void 0!==b.data.lat&&null!==b.data.lat&&void 0!==b.data.lon&&null!==b.data.lon&&(c=b.data.lat,d=b.data.lon),void 0!==b.data.size&&null!==b.data.size&&(h=b.getZoomLevel(b.data.size)),b.map=L.map(b.mapEl,{center:[c,d],maxBounds:[[-90,-1/0],[90,1/0]],scrollWheelZoom:!1,zoom:h,zoomAnimation:!1}),f().addTo(b.map),b.fire=e({data:b.data,legendEl:b.legendEl,url:b.url}),b.map.addLayer(b.fire),g.isMobile()||b.map.addControl(L.control.scale({position:"bottomleft"}))},b.destroy=g.compose(function(){null!==b&&(c=null,b=null)},b.destroy),b.getZoomLevel=function(a){return null===a||void 0===a?11:a<10?13:a<75?12:a<300?11:a<900?10:9},c(a),a=null,b};b.exports=h},{"detail/DetailFireLayer":7,"leaflet/layer/Terrain":2,"util/Util":4}],9:[function(a,b,c){"use strict";var d,e=a("detail/DetailMapView"),f=a("util/Util"),g=a("util/Xhr");d={};var h=function(a){var b,c;return a=f.extend({},d,a),b={},c=function(a){var c,d;if(b.el=a.el||document.createElement("div"),b.data=b.getData(a.data),b.data==={})return void(b.el.innerHTML='<p class="alert error">No Data to load.</p>');b.el.classList.add("detail-view"),b.el.innerHTML='<div class="detail-summary"></div><h2>Preliminary Hazard Assessment</h2><div class="detail-map-view"><div class="detail-map"></div><img src="" class="legend" /></div><div class="detail-description"></div><div class="detail-download"></div>',c=document.querySelector(".page-header > h1"),c&&(c.innerHTML=b.getAttribute("fire")+" ("+b.getAttribute("location")+")"),d=new Date(b.getAttribute("date")).getUTCFullYear(),b.url="https://earthquake.usgs.gov/arcgis/services/ls/pwfdf_"+d+"/MapServer/WMSServer",b.detailSummaryEl=b.el.querySelector(".detail-summary"),b.detailMapEl=b.el.querySelector(".detail-map-view"),b.detailDescriptionEl=b.el.querySelector(".detail-description"),b.detailDownloadEl=b.el.querySelector(".detail-download")},b.formatDate=function(a){var b,c;return b=new Date(a),c=["January","February","March","April","May","June","July","August","September","October","November","December"],c[b.getUTCMonth()]+" "+b.getUTCDate()+", "+b.getUTCFullYear()},b.destroy=f.compose(function(){null!==b&&(c=null,b=null)},b.destroy),b.getAttribute=function(a){var c;return c=b.data[a],void 0!==c?c:"&ndash;"},b.getDetailDescription=function(){return'<p>The map above displays estimates of the likelihood of debris flow (in &#37;), potential volume of debris flow (in m<sup>3</sup>), and combined relative debris flow hazard. These predictions are made at the scale of the drainage basin, and at the scale of the individual stream segment. Estimates of probability, volume, and combined hazard are based upon a design storm with a peak 15-minute rainfall intensity of 24 millimeters per hour (mm/h). Predictions may be viewed interactively by clicking on the button at the top right corner of the map displayed above.</p><p>Visit the <a href="/hazards/postfire_debrisflow/background2016.php">Scientific Background</a> page for more information on how the predictions are calculated.</p>'},b.getDetailDownload=function(){var a;return a="ftp://hazards.cr.usgs.gov/web/landslides-post-wildfire-debris-flow/fires/"+b.getAttribute("mapimage"),'<h3>Downloads</h3><p>Below are the shapefiles and geodatabase information that was used in the creation of the maps on this page.</p><ul><li><a href=" '+a+'/PostFireDebrisFlowEstimates.zip">Geodatabase (.gdb)</a></li><li><a href=" '+a+'/Shapefiles.zip">Shapefile (.shp)</a></li><li><a href=" '+a+'/image.pdf">Segmented Probability (.pdf)</a></li><li><a href=" '+a+'/image.png">Segmented Probability (.png)</a></li><li><a href=" '+a+'/PFDFEstimates_README.pdf">README (.pdf)</a></li></ul>'},b.getData=function(a){var b;try{b=a.attributes}catch(c){return console.log(c),{}}return void 0===b?{}:b},b.getDetailSummary=function(){return'<dl class="detail-summary-list"><dt>Date of Origin</dt><dd>'+b.formatDate(b.getAttribute("date"))+"</dd><dt>Location</dt><dd>"+b.getAttribute("location")+"</dd><dt>Total Area Burned</dt><dd>"+b.getAttribute("size")+" km<sup>2</sup></dd></dl>"},b.loadMapImage=function(){b.detailMapEl.classList.add("detail-map-image"),b.detailMapEl.innerHTML='<img src="ftp://hazards.cr.usgs.gov/web/landslides-post-wildfire-debris-flow/fires/'+b.getAttribute("mapimage")+'/image.png" alt="Segemented Probability Basin image" />'},b.loadMapView=function(){b.detailMapEl.classList.add("detail-map-leaflet"),b.detailMapView=e({el:b.detailMapEl,data:b.data,url:b.url})},b.getDetailMap=function(){g.ajax({url:b.url,success:function(){b.loadMapView()},error:function(){b.loadMapImage()}})},b.render=function(){b.detailSummaryEl.innerHTML=b.getDetailSummary(),b.getDetailMap(),b.detailDescriptionEl.innerHTML=b.getDetailDescription(),b.detailDownloadEl.innerHTML=b.getDetailDownload()},c(a),a=null,b};b.exports=h},{"detail/DetailMapView":8,"util/Util":4,"util/Xhr":5}]},{},[6]);